<div class="card">
  <%= form_for @advertisement do |f|%>
  <div class='card-body'>
    <div class="row">
      <div class="col-md-5">
        <div class="form-group">
          <%= f.label :title, class: "form-label" %>
          <%= f.text_field :title, class: "form-control"%>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <%= f.label :content, class: "form-label" %>
          <%= f.text_area :content, class: "form-control"%>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-3 mt-2">
        <div class="form-group">
          <label class="form-label"><%=t :advertisement_category%></label>
          <%= f.select(:category_id, options_for_select(Category.all.collect { |p| [ p.title, p.id ] }, @advertisement.category_id), {},{class: "form-control"}) %>
        </div>
      </div>
    </div>

    <% if @upload_ids.blank?%>
      <%= hidden_field_tag :attachments, ''%>
      <%else%>
      <%= hidden_field_tag :attachments, @upload_ids.split(',')%>
      <%end%>
      <%end%>

      <div class="row">
        <div class="col-md-12">
          <h5 class="mt-5"><%=t :attachment_photos%> (<%=t :maximum%> 5 <%=t :photos%>)</h5>
          <hr class="mt-2 mb-2"/>
          <%= render partial: 'uploads/upload_form', locals: {item: @advertisement, ratio: '4/3', class_name: 'Advertisement', type:'attachment_photos', max: 5}%>
        </div>
      </div>
    </div>
    <div class="card-footer text-right">
      <button id='submit-btn' type="submit" class="btn btn-primary"><%=t :submit%></button>
    </div>
    <script>
    $( "#submit-btn" ).click(function() {
      console.log('clicked');
      $( ".<%= params[:action]%>_advertisement" ).submit();
    });
    </script>
  </div>
